---

openstack_branch: 'stable/newton'

# Git branches for python egg building for midonet-networking and python-midonetclient
midonet_networking_branch: 'stable/newton'
midonet_branch: 'stable/v5.2.1'

# For ansible-cassandra role
cassandra_max_heap_size: 1024M
cassandra_heap_newsize: 100M

# For ansible-midonet-cluster role
midonet_cluster_max_heap_size: 1024M
midonet_cluster_heap_newsize: 100M

# For ansible-midonet-agent role
midonet_agent_cluster_hostname: 'localhost'
midonet_agent_tunnel_ip: '{{ ansible_default_ipv4.address }}'
midonet_agent_tzone_type: 'vxlan'
midonet_agent_cluster_username: 'midonet'
midonet_agent_cluster_project: 'service'
midonet_agent_cluster_password: 'midonet_default_pass'
midonet_agent_cluster_port: 8181
midonet_agent_agent_template: 'agent-compute-medium'
midonet_agent_max_heap_size: 512M
midonet_agent_mem_enabled: False
midonet_agent_flow_history_enabled: True
midonet_agent_flow_history_encoding: 'binary'
midonet_agent_flow_history_udp_endpoint: 'localhost:5001'
midonet_agent_jmxscraper_enabled: True
midonet_agent_jmxscraper_target_udp_endpoint: 'localhost:5000'

# For ansible-midonet-cluster and ansible-midonet-agent roles
zk_iface: eth1
cs_iface: eth1

# For ansible-midonet-repo role
midonet_repo_midonet_version: '5.2'
midonet_repo_midonet_release: 'stable'
midonet_repo_openstack_plugin_version: 'newton'
midonet_repo_openstack_plugin_release: 'stable'
midonet_repo_mem_enabled: False
midonet_repo_mem_username: 'midonet'
midonet_repo_mem_password: '*******'

# Enable/Disable Midonet VPNaaS by commenting out "- vpnaas" and setting horizon_enable_neutron_vpnaas True/False #
neutron_plugin_base:
  - midonet.neutron.services.l3.l3_midonet.MidonetL3ServicePlugin
  - vpnaas

horizon_enable_neutron_vpnaas: True

neutron_midonet_conf_ini_overrides: {}

############DO NOT EDIT BELOW THIS LINE############

neutron_plugin_type: ml2.lxb

#neutron_plugins:
#  midonet:
#    plugin_conf_ini_overrides: "{{ neutron_midonet_conf_ini_overrides }}"
#    plugin_core: midonet.neutron.plugin_v2.MidonetPluginV2
#    plugin_ini: plugins/midonet/midonet.ini

neutron_metering: False
neutron_l3: False
neutron_lbaas: False
neutron_lbaasv2: False
neutron_vpnaas: False
neutron_bgp: False
neutron_dhcp: False
neutron_metadata: False

#neutron_plugin_loaded_base: "{% for plugin in neutron_plugin_base %}{{ plugin }}{% if not loop.last %},{% endif %}{% endfor %}"

midonet_vpnaas: "{% if ('vpnaas' in neutron_plugin_base) and (neutron_plugin_type == 'midonet') %}True{% else %}False{% endif %}"
midonet_vpnaas_service_provider: VPN:Midonet:midonet.neutron.services.vpn.service_drivers.midonet_ipsec.MidonetIPsecVPNDriver:default
